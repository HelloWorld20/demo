<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
    <title>Hello World!</title>
<link rel="stylesheet" type="text/css" href="css/lib/bootstrap.css">
<style type="text/css">

body{
	padding-bottom: 50px;
	padding-left: 30px;
	padding-right: 30px;
}

input[type="file"] {
	display: none;
}

/*#main{
	width: 100%;
	overflow: hidden;
}

.tab{
	width: 300%;
	position: relative;
}
.tab::after{
	content: '';
	clear: both;
}
.tab-pane{
	float: left;
	width: 33.3%;
	padding: 10px;
}*/
.hide{
	display: none;
}
</style>
</head>
<body>
    <h1>Hello World!</h1>
    We are using io.js <script>document.write(process.version)</script>
    and Electron <script>document.write(process.versions['electron'])</script>.
    <hr>

    <ul id="nav" class="nav nav-tabs">
    	<li class="active"><a data-href="#loginPage">登陆</a></li>
    	<li><a data-href="#configPage">配置</a></li>
    	<li><a data-href="#initPage">一键生成</a></li>
    </ul>

    <br>

    <div id="main">
    	<div class="tab">
	    	<div id="loginPage" class="tab-pane hide">
	    		登陆
	    	</div>
	    	<div id="configPage" class="tab-pane">
				<label class="btn btn-default btn-file">
			    	上传html模板
					<input id="uploadHtml" type="file" name="html">
			    </label>
			    <label class="btn btn-default btn-file">
			    	上传qvga模板
					<input id="uploadQvga" type="file" name="qvga">
			    </label>    
			    <hr>
			    <button class="btn btn-large btn-primary" id="selectPath">选择生成路径：</button>
			    <span id="path"></span>
			    <form>
			        <table id="config" class="table">
			            <thead>
			                <th width="15%">名称</th>
			                <th width="60%">内容</th>
			                <th width="25%">说明</th>
			            </thead>
			            <tbody>
			                <tr>
			                    <td>业务全称：</td>
			                    <td>
			                        <input class="form-control" type="text" name="fullName">
			                    </td>
			                    <td>
			                        <p>必须。</p>
			                    </td>
			                </tr>
			                <tr>
			                    <td>业务简称：</td>
			                    <td>
			                        <input class="form-control" type="text" name="shortName">
			                    </td>
			                    <td><p>必须。</p></td>
			                </tr>
			                <tr>
			                    <td>web模板地址：</td>
			                    <td>
			                        <input class="form-control" type="text" name="webUrl">
			                    </td>
			                    <td>
			                        <p>必须。</p>
			                    </td>
			                </tr>
			                <tr>
			                    <td>wap模板地址：</td>
			                    <td>
			                        <input class="form-control" type="text" name="wapUrl">
			                    </td>
			                    <td>
			                        <p>必须。</p>
			                    </td>
			                </tr>
			                <tr>
			                    <td>邮件模板ID：</td>
			                    <td>
			                        <input class="form-control" type="text" name="yjmbID">
			                    </td>
			                    <td>
			                        <p>非必须。</p>
			                    </td>
			                </tr>
			                <tr>
			                    <td>封装资源ID：</td>
			                    <td>
			                        <input class="form-control" type="text" name="yjfzzyID">
			                    </td>
			                    <td>
			                        <p>非必须。</p>
			                    </td>
			                </tr>
			                <tr>
			                    <td>接口类型：</td>
			                    <td>
			                        <input class="form-control" type="text" name="apiType">
			                    </td>
			                    <td>
			                        <p>必须。</p>
			                    </td>
			                </tr>
			            </tbody>
			        </table>
			        <button class="btn btn-large btn-primary" id="save">保存结果</button>
			        <input class="btn btn-large btn-primary" type="reset" value="清空表格">
			    </form>
	    	</div>

	    	<div id="initPage" class="tab-pane hide">
	    		一键生成关键配置文件
				<button id="init" class="btn btn-large btn-primary">一键生成关键配置文件</button>
	    	</div>


	    </div>
    </div>  
    
</body>
<script type="text/javascript" src="js/lib/index.web.js"></script>
<script type="text/javascript">

var nav = document.querySelectorAll('#nav');

nav[0].onclick = function(e) {
	e.preventDefault();

	var panes = document.querySelectorAll('.tab-pane');
	panes.forEach(function(item) {
		addClass(item, 'hide');
	})

	var paneId = e.target.getAttribute('data-href');
	var target = document.querySelectorAll(paneId[0]);
	removeClass(target, 'hide');
}


function extend() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[0] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;

		// Skip the boolean and the target
		target = arguments[ i ] || {};
		i++;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !isFunction(target) ) {
		target = {};
	}

	// Extend jQuery itself if only one argument is passed
	if ( i === length ) {
		target = this;
		i--;
	}

	for ( ; i < length; i++ ) {
		// Only deal with non-null/undefined values
		if ( (options = arguments[ i ]) != null ) {
			// Extend the base object
			for ( name in options ) {
				src = target[ name ];
				copy = options[ name ];

				// Prevent never-ending loop
				if ( target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {
					if ( copyIsArray ) {
						copyIsArray = false;
						clone = src && jQuery.isArray(src) ? src : [];

					} else {
						clone = src && jQuery.isPlainObject(src) ? src : {};
					}

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
}

var rclass = /[\t\r\n\f]/g;
function hasClass(targets, selector) {
	
	var className = " " + selector + " ",
		i = 0,
		l = targets.length;
	for ( ; i < l; i++ ) {
		if ( targets[i].nodeType === 1 && (" " + targets[i].className + " ").replace(rclass, " ").indexOf( className ) >= 0 ) {
			return true;
		}
	}

	return false;
}


function isFunction(obj) {
	return Object.prototype.toString.call(obj) === '[object Function]';
}

</script>
</html>
